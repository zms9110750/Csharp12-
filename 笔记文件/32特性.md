# 自定义特性
## 定义特性
特性是一种继承自`Attribute`类的类，它可以具有类的所有功能。
但标记特性时只能用常量为参数赋值。获取特性时需要的值通常也只有这些参数。
所以额外的字段和方法通常也不会使用。

## 限制特性

在特性类上添加`AttributeUsage`特性可以限制此特性所处的位置。
例如类，字段，属性，方法，事件，方法参数等等。
他的参数`AttributeTargets`枚举是一个位枚举。
可以通过组合来复合出需要的位置。
# 添加特性 
在一个类成员，类型，方法参数前，
可以使用方括号声明一个特性类。

特性类应当使用`Attribute`结尾以表明这是一个特性。
而在添加特性时可以省略这个后缀。
如果不是以`Attribute`为后缀，
则可以在特性类名前加`@`表示就是写出来的名字。

多个特性可以在一个方括号内用逗号隔开，
也可以写多个方括号。

## 特性的构造器
作为特性标记时，特性类有独特的构造器语法。

- 不需要添加`new`。
- 如果使用的是无参构造器，可以省略方法的括号。
- 在构造器参数传递完后，还能在构造器里以对象初始化器的语法传递参数。
- 参数只能是常量，不能调用方法。

# 访问特性
在源码中，编译器的分析器可以观察到这些特性并做出相应的行为。
例如弹出警告和错误。此类特性例如`Obsolete`特性，
其用来标识过时的方法/类型。 


在运行中的代码，可以使用反射检查自己身上的特性，
`Flag`特性改变枚举的输出就是这个原理。
