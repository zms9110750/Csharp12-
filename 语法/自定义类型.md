# 自定义类型

c#中，自定义类型有：

- 类
- 结构
- 接口
- 枚举
- 委托

## 类成员

一些自定义类型里面可以有声明语句。声明的内容称为类成员。
而在方法里声明的东西，称为局部XX。

因为方法里声明的变量，一旦方法结束就没用了，可以清理了。
而类成员跟随整个类，无法单独判断哪个变量不会再使用，
只有整个类都不需要时，它们才会一起被清理。

## 一等类型

顶级语句必须在所有的类型声明之前。
有任意一个类型声明后，之后的内容就不视为顶级语句了。

能不处于顶级语句，也不处于类成员，
能在最外部直接声明的东西，称为一等类型。

不过，他们是**可以而非只能**声明在最外层。
自定义类型可以作为类成员声明。

```csharp
struct MyStruct
{
	struct MyStruct2
	{
		class MyClass
		{

		}
	}
}
```

# 访问权限

局部变量和局部方法都的作用域都是自身所在大括号即内层所有大括号。

类成员同样也能覆盖所处的大括号。但只是这样是不够的。他们需要能让外界访问。
类成员可以添加访问修饰符，以供自身所在大括号外部访问。

```csharp
MyStruct myStruct = new MyStruct("", 12);
myStruct.Age = 20;//外部只能访问允许访问的东西

struct MyStruct(string name, int age)
{
	string Name = name;
	public int Age = age;

	void Hello()
	{
		Console.WriteLine(Name);//类型内可以访问成员变量
	}

	struct Struct2()
	{
		void Hello(MyStruct my)
		{
			Console.WriteLine(my.Name);//嵌套的类型也可以访问到外部成员。
		}
	}
}
```

## 可用的访问权限

调用方的位置	|public（公开）|protected  internal|protected（保护）|internal(内部)|private protected|private（私有）
--|--|--|--|--|--|--
成员和内部类|✔️|✔️|✔️|✔️|✔️|✔️
派生类|✔️|✔️|✔️|✔️|✔️|❌
相同程序集|✔️|✔️|❌|✔️|❌|❌
不同程序集的派生类|✔️|✔️|✔️|❌|❌|❌
任何|✔️|❌|❌|❌|❌|❌

## 默认访问权限

成员|没写修饰符时可访问性|允许的成员的声明的可访问性
--|--|--
命名空间|public|无（不能添加修饰符）
枚举|public |无（不能添加修饰符）
顶级类|internal|internal 或 public 
嵌套类|private|全部
类成员|private|全部
嵌套结构|private|除了带有protected的访问权限。

默认访问权限是所有可选权限中最严格的。


